@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
@import "tailwindcss";

/* --- 1. CẤU HÌNH QUAN TRỌNG CHO TAILWIND V4 --- */

/* Bắt buộc: Để Tailwind hiểu class "dark" dùng cho dark mode */
@custom-variant dark (&:where(.dark, .dark *));

/* Map biến CSS vào Tailwind để bạn có thể code class như: "bg-primary", "text-secondary" */
@theme {
  --font-display: 'Inter', sans-serif;

  /* Khai báo màu để dùng được class utility (VD: bg-bg-primary) */
  --color-bg-primary: var(--bg-primary);
  --color-bg-secondary: var(--bg-secondary);
  --color-bg-card: var(--bg-card);
  
  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  
  --color-accent-primary: var(--accent-primary);
  --color-accent-secondary: var(--accent-secondary);
  --color-accent-orange: var(--accent-orange);
  
  --color-sidebar-bg: var(--sidebar-bg);
  --color-sidebar-active: var(--sidebar-active);
  
  --color-border-custom: var(--border-color); /* Đổi tên tránh trùng border mặc định */
}

/* --- 2. KHAI BÁO BIẾN MÀU (THEME VARIABLES) --- */
:root {
  /* Light theme - Purple/Lavender */
  --bg-primary: #E8DEFF;
  --bg-secondary: #F5F0FF;
  --bg-card: #FFFFFF;
  --text-primary: #1A1A2E;
  --text-secondary: #6B7280;
  --accent-primary: #7C3AED;
  --accent-secondary: #A855F7;
  --accent-orange: #F97316;
  --border-color: #E5E7EB;
  --sidebar-bg: #FFFFFF;
  --sidebar-active: #F3E8FF;
}

.dark {
  /* Dark theme - Deep Space */
  --bg-primary: #1A1A2E;
  --bg-secondary: #16162A;
  --bg-card: #252540;
  --text-primary: #FFFFFF;
  --text-secondary: #A0A0B2;
  --accent-primary: #A855F7;
  --accent-secondary: #C084FC;
  --accent-orange: #FB923C;
  --border-color: #3F3F5F;
  --sidebar-bg: #1E1E38;
  --sidebar-active: #3F3F5F;
}

/* --- 3. BASE STYLES --- */
* {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

body {
  background-color: var(--bg-primary);
  color: var(--text-primary);
  /* Thêm smooth scroll cho mượt */
  scroll-behavior: smooth; 
}

/* --- 4. UTILITIES & ANIMATIONS --- */
@layer utilities {
  /* Animation Definitions */
  @keyframes slide-in {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }

  @keyframes scale-in {
    from { transform: scale(0.95); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  /* Utility Classes */
  .animate-slide-in {
    animation: slide-in 0.3s ease-out;
  }

  .animate-scale-in {
    animation: scale-in 0.2s ease-out;
  }

  .animate-fade-in {
    animation: fadeIn 0.3s ease-out;
  }
  
  /* Lưu ý: Tailwind có sẵn animate-spin, bạn có thể xóa dòng dưới nếu muốn dùng mặc định */
  .animate-spin-slow {
    animation: spin 3s linear infinite; /* Đổi tên để tránh trùng */
  }
}

/* --- 5. CUSTOM UI COMPONENTS --- */

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background-color: var(--bg-secondary);
}

::-webkit-scrollbar-thumb {
  background-color: var(--accent-primary);
  border-radius: 10px;
  opacity: 0.8;
}

::-webkit-scrollbar-thumb:hover {
  background-color: var(--accent-secondary);
}

/* Dark date picker fix */
.dark input[type="date"]::-webkit-calendar-picker-indicator {
  filter: invert(1);
  cursor: pointer;
}

.dark input[type="date"] {
  color-scheme: dark;
}

/* Global Focus Styles (Accessibility) */
input:focus-visible, 
button:focus-visible, 
select:focus-visible, 
textarea:focus-visible {
  outline: 2px solid var(--accent-primary);
  outline-offset: 2px;
}
/* Tắt outline mặc định khi click chuột, chỉ hiện khi tab phím */
:focus:not(:focus-visible) {
  outline: none;
}